{
  "version": 3,
  "file": "lyria.js",
  "sources": [
    "src/achievement/index.js",
    "src/achievement/manager.js",
    "src/animation.js",
    "src/audio/index.js",
    "src/audio/manager.js",
    "src/checkpoints.js",
    "src/component/index.js",
    "src/component/manager.js",
    "src/constants.js",
    "src/core/clamp.js",
    "src/core/deleteitem.js",
    "src/core/fisheryates.js",
    "src/core/fullscreen.js",
    "src/core/jqueryify.js",
    "src/core/nexttick.js",
    "src/core/options.js",
    "src/core/path.js",
    "src/core/random.js",
    "src/core/root.js",
    "src/core/watch.js",
    "src/events.js",
    "src/game.js",
    "src/gameobject.js",
    "src/input/index.js",
    "src/input/key.js",
    "src/layer.js",
    "src/localization/group.js",
    "src/localization/index.js",
    "src/log.js",
    "src/loop.js",
    "src/math.js",
    "src/mixin/language.js",
    "src/prefab/index.js",
    "src/prefab/manager.js",
    "src/preloader.js",
    "src/resource.js",
    "src/scene/director.js",
    "src/scene/index.js",
    "src/serialize.js",
    "src/template/connector.js",
    "src/template/engine.js",
    "src/template/methods.js",
    "src/template/string.js",
    "src/tween.js",
    "src/utils.js",
    "src/video.js",
    "src/viewport.js",
    "src/world.js",
    "generated/templates.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACpCA;AACA;AACA;AACA;AACA,G;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;A;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACZA;AACA;AACA;AACA;AACA,S;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;ACnDA;AACA;AACA;AACA;AACA;A;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G",
  "sourceRoot": "/",
  "sourcesContent": [
    "define('lyria/achievement', ['clamp'], function(clamp) {\r\n\r\n  var Achievement = (function() {\r\n    var Achievement = function(options) {\r\n      if (typeof options === 'string') {\r\n        options = {\r\n          name: options\r\n        };\r\n      }\r\n      \r\n      if (!options.name) {\r\n        // Break if no name has been specified\r\n        throw new Error('An achievement needs to have a name.');\r\n      } else {\r\n        this.name = options.name;\r\n      }\r\n\r\n      this.id = options.id || 'achievement-' + Date.now();\r\n      this.icon = options.icon || null;\r\n      \r\n      this.progress = options.progress || {min: 0, max: 1};\r\n\r\n      this.unlocked = (options.unlocked == null) ? false : options.unlocked;\r\n      \r\n      var progressCurrent = this.progress.min;\r\n\r\n      var self = this;\r\n\r\n      Object.defineProperty(this.progress, 'current', {\r\n        get: function() {\r\n          return progressCurrent;\r\n        },\r\n        set: function(value) {\r\n          progressCurrent = clamp(value, self.progress.min, self.progress.max);\r\n          \r\n          if (progressCurrent >= self.progress.max) {\r\n            self.unlocked = true;\r\n          } else {\r\n            if (self.unlocked === true) {\r\n              self.unlocked = false;\r\n            }\r\n          }\r\n        },\r\n        enumarable: true,\r\n        configurable: true\r\n      });\r\n    };\r\n\r\n    Achievement.prototype.reset = function() {\r\n      this.progress.current = this.progress.min;\r\n    };\r\n\r\n    Achievement.prototype.unlock = function() {\r\n      this.progress.current = this.progress.max;\r\n    };\r\n\r\n    Achievement.prototype.toJSON = function() {\r\n      var achObject = {};\r\n\r\n      for (var key in this) {\r\n        if (Object.hasOwnProperty.call(this, key)) {\r\n          continue;\r\n        }\r\n\r\n        achObject[key] = this[key];\r\n      }\r\n\r\n      return achObject;\r\n    };\r\n\r\n    Achievement.prototype.toString = function() {\r\n      return JSON.stringify(this.toJSON());\r\n    };\r\n\r\n    return Achievement;\r\n  })();\r\n\r\n  return Achievement;\r\n\r\n});\r\n",
    "define('lyria/achievement/manager', ['jquery', 'lyria/achievement', 'lyria/template/engine', 'lyria/template/list', 'lyria/localization'], function($, Achievement, TemplateEngine, templateList, Localization) {\r\n\r\n  var achievementStore = {};\r\n\r\n  var AchievementManager = {\r\n    localization: new Localization(),\r\n    add: function(achievement) {\r\n      if ( achievement instanceof Achievement) {\r\n        if (!Object.hasOwnProperty.call(achievementStore, achievement.name)) {\r\n          achievementStore[achievement.name] = achievement;\r\n        }\r\n      }\r\n    },\r\n    progressSeparator: '/',\r\n    viewport: null,\r\n    remove: function(achName) {\r\n      if (Object.hasOwnProperty.call(achievementStore, achName)) {\r\n        delete achievementStore[achName];\r\n      }\r\n    },\r\n    list: function() {\r\n      //TemplateEngine.compile()\r\n    },\r\n    show: function(achName) {\r\n      var currentAchievement = achievementStore[achName];\r\n\r\n      if (currentAchievement == null) {\r\n        throw new Error('Achievement ' + achName + ' not found.');\r\n      }\r\n\r\n      var title = (AchievementManager.localization.exists(currentAchievement.name)) ? AchievementManager.localization.t(currentAchievement.name) : currentAchievement.name;\r\n      var description = (AchievementManager.localization.exists(currentAchievement.name + '-description')) ? AchievementManager.localization.t(currentAchievement.name + '-description') : currentAchievement.description;\r\n\r\n      var achTemplate = TemplateEngine.compile(templateList['achievement'])({\r\n        id: currentAchievement.id,\r\n        className: currentAchievement.name,\r\n        title: title,\r\n        description: description,\r\n        offscreen: true,\r\n        progressable: (currentAchievement.progress.max > 0 && currentAchievement.progress.max !== 1),\r\n        max: currentAchievement.progress.max,\r\n        current: currentAchievement.progress.current,\r\n        separator: AchievementManager.progressSeparator\r\n      });\r\n\r\n\r\n      if (AchievementManager.viewport == null) {\r\n        $('body').append(achTemplate);\r\n      } else {\r\n        AchievementManager.viewport.$element.append(achTemplate);\r\n      }\r\n\r\n      var $currentAchievement = $('#' + currentAchievement.id);\r\n\r\n      // Refactor this if lyria/tween is available\r\n      $currentAchievement.css({\r\n        opacity: 0.0\r\n      });\r\n      $currentAchievement.animate({\r\n        opacity: 1.0\r\n      }, 600).delay(2000).animate({\r\n        opacity: 0.0\r\n      }, 600, function() {\r\n        $currentAchievement.remove();\r\n      });\r\n    },\r\n    toJSON: function() {\r\n      var key, value;\r\n      var result = {};\r\n\r\n      for (key in achievementStore) {\r\n        value = achievementStore[key];\r\n        result[key] = value.toJSON();\r\n      }\r\n\r\n      return result;\r\n    },\r\n    toString: function() {\r\n      var result = '';\r\n\r\n      try {\r\n        result = JSON.stringify(AchievementManager.toJSON());\r\n      } catch (e) {\r\n        throw new Error('Error while serializing achievements in AchievementManager: ' + e);\r\n      }\r\n      return result;\r\n    },\r\n    fromJSON: function(achievements) {\r\n      var key, value;\r\n\r\n      for (key in achievements) {\r\n        value = achievements[key];\r\n        AchievementManager.add(value);\r\n      }\r\n    },\r\n    fromString: function(achievements) {\r\n      var deserializedValue = {};\r\n\r\n      try {\r\n        deserializedValue = JSON.parse(achievements);\r\n      } catch (e) {\r\n        throw new Error('Error while deserializing achivements in AchievementManager: ' + e);\r\n      }\r\n\r\n      return AchievementManager.fromJSON(deserializedValue);\r\n    }\r\n  };\r\n\r\n  Object.defineProperty(AchievementManager, 'length', {\r\n    get: function() {\r\n      return Object.keys(achievementStore).length;\r\n    }\r\n  });\r\n\r\n  Object.defineProperty(AchievementManager, 'unlockedCount', {\r\n    get: function() {\r\n      var counter = 0;\r\n\r\n      $.each(achievementStore, function(key, value) {\r\n        if (value.unlocked) {\r\n          counter++;\r\n        }\r\n      });\r\n\r\n      return counter;\r\n    }\r\n  });\r\n  \r\n  Object.defineProperty(AchievementManager, 'store', {\r\n    get: function() {\r\n      return achievementStore;\r\n    }\r\n  });\r\n\r\n  return AchievementManager;\r\n\r\n});\r\n",
    "define('lyria/animation', ['mixer', 'eventmap'], function(mixer, EventMap) {\r\n  var Animation = (function() {\r\n    var Animation = function($elem, options) {\r\n      this.$elem = $elem;\r\n      \r\n      this.frame.width = 0 || options.width;\r\n      this.frame.height = 0 || options.height;\r\n      this.frame.current = 0;\r\n      \r\n      this.sprite.width;\r\n      this.sprite.height;\r\n      this.sprite.image = new Image();\r\n      \r\n      // Mix-in eventmap\r\n      mixer([this, Animation.prototype], new EventMap());\r\n    };\r\n    \r\n    Animation.prototype.reset = function() {\r\n      \r\n    };\r\n  })();\r\n  \r\n  return Animation;\r\n});\r\n",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/audio', ['root', 'jquery'], function(root, $) {'use strict';\r\n\r\n  /**\r\n   * @class Audio\r\n   * @static \r\n   */\r\n  var Audio = function() {\r\n    var muted = false;\r\n    /**\r\n     * Private audio elements\r\n     *\r\n     * @example : {\r\n     *  filepath : 'assets/audio/example.ogg',\r\n     *  playAfter : 'example2',\r\n     *  loop : false,\r\n     *  play : false\r\n     * }\r\n     */\r\n    var audioElements = {};\r\n    /**\r\n     * Loads one or multiple audio files\r\n     * @param {string}\r\n     *    id      identifier of this sound (has to be unique!)\r\n     * @param {object}\r\n     *    filepath  filepath of the sound\r\n     *    playAfter should sth be played after this sound has ended\r\n     *    loop    loop this sound\r\n     *    play    should this sound be played immediatelly?\r\n     */\r\n    var addAudioElement = function(id, fileObj) {\r\n      if (!fileObj || typeof (fileObj) !== 'object')\r\n        return;\r\n      var audioElement = document.createElement('audio');\r\n      audioElements[id] = fileObj;\r\n      $(audioElement).attr('id', id).attr('preload', 'auto').append('<source src=\"' + fileObj.filepath + '\" />');\r\n\r\n      $('body').append(audioElement);\r\n      if (fileObj.play) {\r\n        this.play(id);\r\n      }\r\n    };\r\n    var removeAudioElement = function(id) {\r\n      if (!id || typeof (fileObj) != 'string')\r\n        return;\r\n      $('#' + id).remove();\r\n      window.log('Lyria.audio.removeAudioElement: ' + id + ' removed');\r\n    };\r\n    /**\r\n     * Plays the audio file\r\n     *\r\n     * @param {string} element identifier\r\n     */\r\n    var play = function(elem) {\r\n      var sound = audioElements[elem];\r\n      $('#' + elem).one('ended', {\r\n        audioManager: this\r\n      }, function(event) {\r\n        if (window.chrome)\r\n          $(this).load();\r\n        else\r\n          $(this).currentTime = 0;\r\n\r\n        var id = $(this).attr('id');\r\n        var sound = event.data.audioManager.getSound(id);\r\n        // only play after song defined in playAfter if song is initialized\r\n        if (sound.playAfter && $('#' + sound.playAfter).length > 0) {\r\n          event.data.audioManager.play(sound.playAfter);\r\n        }\r\n        if (sound.loop) {\r\n          event.data.audioManager.play($(this).attr('id'));\r\n        }\r\n      });\r\n      $('#'+elem)[0].play();\r\n      if (muted) {\r\n        $('#'+elem)[0].volume = 0;\r\n      }\r\n    };\r\n    /**\r\n     * Get the audio file object\r\n     *\r\n     * @param {string} element identifier\r\n     */\r\n    var getSound = function(elem) {\r\n      return audioElements[elem];\r\n    };\r\n    /**\r\n     * Pauses the audio file\r\n     *\r\n     * @param {string} element identifier\r\n     */\r\n    var pause = function(elem) {\r\n      if ($('#' + elem).length > 0) {\r\n        $('#'+elem)[0].pause();\r\n      } else {\r\n        window.log('error', 'Lyria.Audio.pause: cant finde element ' + elem + ' to pause');\r\n      }\r\n    };\r\n    /**\r\n     * Stops playing the audio file\r\n     *\r\n     * @param {string} element identifier\r\n     */\r\n    var stop = function(elem) {\r\n      if ($('#' + elem).length > 0 && $('#'+elem)[0] && $('#'+elem)[0].pause) {\r\n        $('#'+elem)[0].pause();\r\n        $('#'+elem)[0].currentTime = 0;\r\n      }\r\n    };\r\n    /**\r\n     * Get the length of the sound file\r\n     *\r\n     * @param {string} element identifier\r\n     */\r\n    var getLength = function(elem) {\r\n      return $('#'+elem)[0].duration;\r\n    };\r\n    /**\r\n     * Sets or gets the volume of the audio file\r\n     *\r\n     * @param {string} element identifier\r\n     * @param {number} value (between 0 .. 1)\r\n     */\r\n    var volume = function(elem, value) {\r\n      if ($('#' + elem).length > 0) {\r\n        if ( typeof (value) === \"number\")\r\n          $('#'+elem)[0].volume = value;\r\n        else\r\n          return $('#'+elem)[0].volume;\r\n      } else {\r\n        return 0;\r\n      }\r\n\r\n    };\r\n    /**\r\n     * Sets or gets the position of the audio file\r\n     *\r\n     * @param {string} element identifier\r\n     * @param {number} value\r\n     */\r\n    var pos = function(elem, value) {\r\n      if ( typeof (value) === \"number\")\r\n        $('#'+elem)[0].currentTime = value;\r\n      else\r\n        return $('#'+elem)[0].currentTime;\r\n    };\r\n    /**\r\n     * Sets or gets properties of the audio object\r\n     * TODO: Method chaining\r\n     *\r\n     * @param {Object} prop\r\n     * @param {Object} value (optional)\r\n     */\r\n    var attr = function(prop, value) {\r\n      switch (prop) {\r\n        case 'duration':\r\n        case 'length':\r\n          return getLength();\r\n\r\n        case 'position':\r\n        case 'pos':\r\n          {\r\n            if ( typeof (value) === \"undefined\")\r\n              return pos();\r\n            else\r\n              pos(value);\r\n\r\n          }\r\n          break;\r\n\r\n        case 'volume':\r\n          {\r\n            if ( typeof (value) === \"undefined\")\r\n              return volume();\r\n            else\r\n              volume(value);\r\n\r\n          }\r\n          break;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Mute all sound of the game\r\n     * @param {boolean} value\r\n     */\r\n    var muteSounds = function(value) {\r\n      muted = value;\r\n      for (var i in audioElements) {\r\n        if (audioElements.hasOwnProperty(i)) {\r\n          if ($('#' + i).length > 0) {\r\n            $('#'+i)[0].volume = value ? 0 : 1;\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    return {\r\n      addAudioElement: addAudioElement,\r\n      removeAudioElement: removeAudioElement,\r\n      play: play,\r\n      getSound: getSound,\r\n      pause: pause,\r\n      stop: stop,\r\n      muteSounds: muteSounds,\r\n\r\n      getLength: getLength,\r\n      volume: volume,\r\n      pos: pos,\r\n      attr: attr\r\n    };\r\n  };\r\n  \r\n  return Audio;\r\n});\r\n",
    "define('lyria/audio/manager', function() {\r\n  var AudioManager = {\r\n\r\n  };\r\n\r\n  return AudioManager;\r\n});\r\n",
    "define('lyria/checkpoints', ['eventmap', 'mixer', 'deleteitem'], function(EventMap, mixer, deleteItem) {\r\n\r\n  var Checkpoints = (function() {\r\n    var Checkponts = function() {\r\n      mixer([this, Checkpoints.prototype], new EventMap());\r\n\r\n      this.startTime = performance.now();\r\n      this.checkpointList = [];\r\n    };\r\n\r\n    /**\r\n     * Pass a checkpoint\r\n     * \r\n     * @param {String} name\r\n     */\r\n    Checkpoints.prototype.pass = function(name) {\r\n      this.checkpointList.push(name);\r\n      this.trigger('pass', name, performance.now() - startTime);\r\n    };\r\n\r\n    /**\r\n     * Passes a checkpoint\r\n     * \r\n     * @param {String} name\r\n     */\r\n    Checkpoints.prototype.hasPassed = function(name) {\r\n      return (this.checkpointList.indexOf(name) !== -1);\r\n    };\r\n\r\n    /**\r\n     * Reset a single or all checkpoints\r\n     * \r\n     * @param {String} name\r\n     */\r\n    Checkpoints.prototype.reset = function(name) {\r\n      if (name == null) {\r\n        this.checkpointList = [];\r\n        this.trigger('reset');\r\n        return;\r\n      }\r\n      \r\n      var index = this.checkpointList.indexOf(name);\r\n\r\n      if (index === -1) {\r\n        return;\r\n      }\r\n\r\n      this.checkpointList = deleteItem(this.checkpointList, index);\n      this.trigger('reset', name);\r\n    };\r\n\r\n    return Checkpoints;\r\n  });\r\n  \r\n  return Checkpoints;\r\n\r\n});\r\n",
    "define('lyria/component', ['mixer', 'eventmap', 'lyria/component/manager', 'lyria/log'], function(mixer, EventMap, ComponentManager, Log) {\r\n\r\n  //Lyria.Component\r\n  return (function() {\r\n\r\n    var Component = function(name, factory) {\r\n      mixer([this, Component.prototype], new EventMap());\r\n      \r\n      this.name = name != null ? name : this.constructor.name;\r\n      \r\n      this.type = 'Component';\r\n      \r\n      this.children = {};\r\n      \r\n      factory.apply(this, [this]);\r\n      \r\n      this.on('update', function(dt) {\r\n        for (var key in children) {\r\n          var value = children[key];\r\n          if (value && value.trigger) {\r\n            value.trigger('update', dt);\r\n          }\r\n        }\r\n      });\r\n    };\r\n    \r\n    /**\r\n     * Adds a component to this entity\r\n     * \r\n     * @method add\r\n     * @param {Object} child\r\n     */\r\n    Component.prototype.add = function(child) {\r\n      var name = 'anonymous-' + Date.now();\r\n      var childObject = null;\r\n      \r\n      if (typeof child === 'string') {\r\n        name = child;\r\n        childObject = ComponentManager.get(name);\r\n      } else {\r\n        name = child.name || name;\r\n        childObject = child;\r\n      }\r\n      \r\n      children[name] = childObject;\r\n      \r\n      this.trigger('add', name);\r\n      childObject.trigger('added', this);\r\n    };\r\n    \r\n    /**\r\n     * Removes a component from the entity\r\n     *  \r\n     * @method remove\r\n     * @param {String} name\r\n     */\r\n    Component.prototype.remove = function(name) {\r\n      if (name == null) {\r\n        return;\r\n      }\r\n      \r\n      delete children[name];\r\n      \r\n      this.trigger('remove', name);\r\n    };\r\n    \r\n    /**\r\n     * Logs from the component itself\r\n     * \r\n     * @method log\r\n     * @param {String} text\r\n     */\r\n    Component.prototype.log = function(text) {\r\n      Log.i(this.type + ': ' + text);\r\n    };\r\n\r\n    return Component;\r\n\r\n  })();\r\n\r\n});\r\n",
    "define('lyria/component/manager', function() {\r\n\r\n  var components = {};\r\n\r\n  var ComponentManager = {};\r\n\r\n  ComponentManager.add = function(component) {\r\n    var name = component.name || 'anonymous-' + Date.now();\r\n\r\n    components[name] = component;\r\n  };\r\n\r\n  ComponentManager.remove = function(name) {\r\n    if (name == null) {\r\n      return;\r\n    }\r\n    \r\n    delete ComponentManager[name];\r\n  };\r\n  \r\n  ComponentManager.get = function(name) {\r\n    return components[name];\r\n  };\r\n\r\n  return ComponentManager;\r\n\r\n});\r\n",
    "// Debug settings\r\ndefine('lyria/debug', function() {\r\n  return true;\r\n});\r\n\r\n// General constants\r\ndefine('lyria/constants', function() {\r\n  return {\r\n    animSpeed: 300\r\n  };\r\n});\r\n\r\ndefine('lyria/language', ['detectr', 'lyria/events', 'lyria/mixin/language'], function(detectr, Events, langMixin) {\r\n  // Fallback language\r\n  var langObject = {\r\n    defaultLanguage: 'en'\r\n  };\r\n\r\n  var langProp = detectr.Browser.language() || langObject.defaultLanguage;\r\n\r\n  langMixin(langObject, langProp, Events);\r\n\r\n  return langObject;\r\n});\r\n",
    "define('clamp', function() {\r\n  var clamp = function(value, min, max) {\r\n    var _ref, _ref1, _ref2;\r\n    if ( typeof value === 'object') {\r\n      _ref = value, min = _ref.min, max = _ref.max, value = _ref.value;\r\n    }\r\n    if (Array.isArray(min)) {\r\n      _ref1 = min, min = _ref1[0], max = _ref1[1];\r\n    }\r\n    if (min == null) {\r\n      min = 0.0;\r\n    }\r\n    if (max == null) {\r\n      max = 1.0;\r\n    }\r\n    if (min > max) {\r\n      _ref2 = [max, min], min = _ref2[0], max = _ref2[1];\r\n    }\r\n    if ((min <= value && value <= max)) {\r\n      return value;\r\n    } else {\r\n      if (value > max) {\r\n        return max;\r\n      } else {\r\n        return min;\r\n      }\r\n    }\r\n  };\r\n\r\n  return clamp;\r\n});\r\n",
    "define('deleteitem', function() {\r\n  var deleteItem = function(obj, item) {\r\n    var i, key, newObject, num, _i, _len, _results;\r\n    if (Array.isArray(obj)) {\r\n      _results = [];\r\n      for ( num = _i = 0, _len = obj.length; _i < _len; num = ++_i) {\r\n        i = obj[num];\r\n        if (num !== item) {\r\n          _results.push(i);\r\n        }\r\n      }\r\n      return _results;\r\n    } else {\r\n      newObject = {};\r\n      for (key in obj) {\r\n        if (key !== item) {\r\n          newObject[key] = obj[key];\r\n        }\r\n      }\r\n      return newObject;\r\n    }\r\n  };\r\n\r\n  return deleteItem;\r\n});\r\n",
    "define('fisheryates', ['random'], function(random) {\r\n  /**\r\n   * Randomize array element order in-place.\r\n   * Using Fisher-Yates shuffle algorithm.\r\n   */\r\n  return function(array) {\r\n    for (var i = array.length - 1; i > 0; i--) {\r\n      var j = random(i + 1);\r\n      var temp = array[i];\r\n      array[i] = array[j];\r\n      array[j] = temp;\r\n    }\r\n    return array;\r\n  };\r\n});\r\n",
    "define('requestfullscreen', function() {\r\n  return function(element) {\r\n    if (element.requestFullScreen) {\r\n      element.requestFullScreen();\r\n    } else if (element.mozRequestFullScreen) {\r\n      element.mozRequestFullScreen();\r\n    } else if (element.webkitRequestFullScreen) {\r\n      element.webkitRequestFullScreen();\r\n    }\r\n  };\r\n});\r\n\r\ndefine('fullscreenelement', function() {\r\n  return function(element) {\r\n    return (element.fullscreenElement || element.mozFullScreenElement || element.webkitFullscreenElement);\r\n  };\r\n});\r\n\r\ndefine('cancelfullscreen', function() {\r\n  return function(element) {\r\n    if (element.cancelFullScreen) {\r\n      element.cancelFullScreen();\r\n    } else if (element.mozCancelFullScreen) {\r\n      element.mozCancelFullScreen();\r\n    } else if (element.webkitCancelFullScreen) {\r\n      element.webkitCancelFullScreen();\r\n    }\r\n  };\r\n});\r\n\r\ndefine('fullscreen', ['requestfullscreen', 'fullscreenelement', 'cancelfullscreen'], function(rf, fs, cf) {\r\n  return {\r\n    request: rf,\r\n    isFullscreen: fs,\r\n    cancel: cf\r\n  };\r\n});",
    "define('jqueryify', ['jquery'], function($) {\r\n  return function(sel) {\r\n    return (sel instanceof $) ? sel : $(sel);\r\n  };\r\n});",
    "/**\r\n * Trying to find a better alternative than setTimeout(fn, 0)\r\n * requestAnimationFrame should be a better alternative\r\n */\r\ndefine('nexttick', ['requestanimationframe', 'cancelanimationframe'], function(requestAnimationFrame, cancelAnimationFrame) {\r\n  return function(fn) {\r\n    var id = requestAnimationFrame(function() {\r\n      if (fn != null) {\r\n        fn();\r\n      }\r\n      cancelAnimationFrame(id);\r\n    });\r\n  };\r\n});\r\n",
    "define('options', ['jquery'], function($) {\r\n  return function(obj, defaultOptions) {\r\n    return $.extend(true, obj, defaultOptions);\r\n  };\r\n});\r\n",
    "define('path', function() {\n  var delimiter = '/';\n\n  var Path = {\n    join: function(arr) {\n      var pathArray = (function() {\n        var result = [];\n\n        for (var i = 0, j = arr.length; i < j; i++) {\n          if (arr[i] != null && arr[i] !== '') {\n            result.push(arr[i]);\n          }\n        }\n\n        return result;\n      })();\n      return pathArray.join(delimiter);\n    },\n    resolve: function(base, relativeStr) {\n      if (!Array.isArray(relativeStr)) {\n        relativeStr = relativeStr.split(delimiter);\n      }\n\n      var baseArray = base.split(delimiter);\n      var result = [];\n\n      var completeArr = baseArray.concat(relativeStr);\n\n      // Last identifier should not be ..\n      var lastElement = completeArr.length - 1;\n      \n      if ((completeArr[lastElement] === '..') || (completeArr[lastElement] === '.')) {\n        completeArr[lastElement] = '';\n      }\n\n      for (var i = 0, j = completeArr.length; i < j; i++) {\n        if (completeArr[i] != null && completeArr[i] !== '') {\n          if (completeArr[i] === '.') {\n            continue;\n          }\n\n          if (completeArr[i + 1] === '..') {\n            completeArr[i] = '';\n            completeArr[i + 1] = '';\n\n            continue;\n          }\n\n          result.push(completeArr[i]);\n        }\n      }\n\n      return Path.join(result);\n    },\n    dotToPath: function(str) {\n      if (!str) {\n        return;\n      }\n      \n      if (~str.indexOf('.')) {\n        return Path.join(str.split('.'));        \n      } else {\n        return str;\n      }\n      \n    }\n  };\n\n  return Path;\n});\n",
    "define('random', function() {\r\n  return function(max, min) {\r\n    if (max == null) {\r\n      max = 1.0;\r\n    }\r\n    \r\n    if (min == null) {\r\n      min = 0.0;\r\n    }\r\n    \r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  };\r\n});",
    "(function(root) {\r\n  define('root', function() {\r\n    return root;\r\n  });\r\n})(this);",
    "/*\r\n* object.watch polyfill\r\n*\r\n* 2012-04-03\r\n*\r\n* By Eli Grey, http://eligrey.com\r\n* Public Domain.\r\n* NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\r\n*/\r\n\r\n// object.watch\r\nif (!Object.prototype.watch) {\r\n  Object.defineProperty(Object.prototype, \"watch\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    writable: false,\r\n    value: function(prop, handler) {\r\n      var oldval = this[prop], newval = oldval, getter = function() {\r\n        return newval;\r\n      }, setter = function(val) {\r\n        oldval = newval;\r\n        newval = handler.call(this, prop, oldval, val);\r\n        return newval;\r\n      };\r\n\r\n      if (\r\n      delete this[prop]) {// can't watch constants\r\n        Object.defineProperty(this, prop, {\r\n          get: getter,\r\n          set: setter,\r\n          enumerable: true,\r\n          configurable: true\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n// object.unwatch\r\nif (!Object.prototype.unwatch) {\r\n  Object.defineProperty(Object.prototype, \"unwatch\", {\r\n    enumerable: false,\r\n    configurable: true,\r\n    writable: false,\r\n    value: function(prop) {\r\n      var val = this[prop];\r\n      delete this[prop];\r\n      // remove accessors\r\n      this[prop] = val;\r\n    }\r\n  });\r\n}",
    "define('lyria/events', ['eventmap'], function(EventMap) {\r\n  var instance = instance || new EventMap();\r\n\r\n  return instance;\r\n});\r\n",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/game', ['eventmap', 'mixer', 'fullscreen', 'jquery', 'lyria/viewport', 'lyria/scene/director', 'lyria/preloader', 'lyria/loop', 'lyria/world', 'lyria/checkpoints'], function(EventMap, mixer, fullscreen, $, Viewport, Director, Preloader, Loop, World, Checkpoints) {'use strict';\r\n\r\n  /**\r\n   * Game class which has a viewport, scene director and preloader by\r\n   * default.\r\n   *\r\n   * @class Game\r\n   */\r\n  return (function() {\r\n\r\n    /**\r\n     * @constructor\r\n     */\r\n    var Game = function(options) {\r\n      var self = this;\r\n\r\n      options = $.extend(options, {\r\n        startLoop: true\r\n      });\r\n      \r\n      mixer([this, Game.prototype], new EventMap());\r\n\r\n      /**\r\n       * @property viewport\r\n       * @type {Viewport}\r\n       */\r\n      // Set up a viewport\r\n      this.viewport = new Viewport();\r\n      this.viewport.parent = this;\r\n\r\n      /**\r\n       * @property director\r\n       * @type {Director}\r\n       */\r\n      // Add a scene director\r\n      this.director = new Director(this.viewport);\r\n      this.director.parent = this;\r\n\r\n      /**\r\n       * @property preloader\r\n       * @type {Preloader}\r\n       */\r\n      // Add a preloader\r\n      this.preloader = new Preloader();\r\n      this.preloader.parent = this;\r\n\r\n      // Bind the scene director to the preloader reference\r\n      this.preloader.sceneDirector = this.director;\r\n      \r\n      this.paused = false;\r\n      \r\n      // Mute\r\n      this.mute = false;\r\n      \r\n      // World reference\r\n      this.world = new World();\r\n      this.world.parent = this;\r\n      \r\n      // Checkpoints\r\n      this.checkpoints = new Checkpoints();\r\n\r\n      // Add an update task to the loop with updates the scene director on each\r\n      // frame\r\n      Game.Loop.on('update', function(dt) {\r\n        self.director.trigger('update', dt);\r\n      });\r\n      \r\n      // Run game loop (if it should start by default)\r\n      // In most cases, you'll need the loop (animation/physics/etc.)\r\n      // In a pure event-based game - like a turn-based-strategy game -\r\n      // you might want turn startLoop off\r\n      if (options.startLoop) {\r\n        Game.Loop.run();\r\n      }\r\n      \r\n      this.on('pause', function() {\r\n        self.paused = true;\r\n      });\r\n      \r\n      this.on('resume', function() {\r\n        self.paused = false;\r\n      });\r\n      \r\n      this.on('fullscreen', function() {\r\n        var viewportElement = self.viewport.$element[0];\r\n        \r\n        if (!viewportElement) {\r\n          return;\r\n        }\r\n        \r\n        if (fullscreen.isFullscreen(viewportElement)) {\r\n          fullscreen.cancel(viewportElement);\r\n        } else {\r\n          fullscreen.request(viewportElement);\r\n        }\r\n      });\r\n      \r\n      $(document).ready(function() {       \r\n        $(window).blur(self.pause.bind(self));\r\n        $(window).focus(self.resume.bind(self));\r\n      });\r\n    };\r\n    \r\n    /**\r\n     * @property Loop\r\n     * @static\r\n     * @type {Loop}\r\n     */\r\n    // Store the reference to the Lyria Loop at the Game object\r\n    Game.Loop = Loop;\r\n\r\n    return Game;\r\n\r\n  })();\r\n\r\n}); ",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/gameobject', ['mixer', 'eventmap', 'lyria/component', 'lyria/log'], function(mixer, EventMap, Component, Log) {\r\n  'use strict';\r\n  \r\n  //Lyria.GameObject\r\n  return (function() {\r\n    \r\n    // Constructor\r\n    var GameObject = function() {\r\n      mixer([this, GameObject.prototype], new EventMap());\r\n      \r\n      var self = this;\r\n      \r\n      this.components = {};\r\n      this.className = 'gameobject';\r\n      \r\n      this.template = {};\r\n      this.template.source = '<div id=\"{{id}}\" class=\"{{className}}\"></div>';\r\n      \r\n      this.on('update', function(dt) {\r\n        if (_.isEmpty(self.components)) {\r\n          return;\r\n        }\r\n        \r\n        _.each(self.components, function(key, value) {\r\n          value.trigger('update', dt);\r\n        });\r\n      });\r\n    };\r\n    \r\n    /**\r\n     * Refreshes the game object\r\n     *\r\n     * @param {Object} val\r\n     */\r\n    GameObject.prototype.refresh = function(val) {\r\n      if (val == null && this.template) {\r\n        val = this.template.data;\r\n      }\r\n\r\n      if (this.template && this.template.source) {\r\n        this.content = this.template.source(val);\r\n      }\r\n\r\n      this.trigger('refresh');\r\n    };\r\n    \r\n    GameObject.prototype.add = function(component) {\r\n      if (component instanceof Component) {\r\n        this.components[component.name] = component;\r\n      }\r\n    };\r\n    \r\n    GameObject.prototype.execute = function(functionBody) {\r\n      functionBody.apply(this, this);\r\n    };\r\n    \r\n    GameObject.prototype.log = function(text) {\r\n      Log.i('GameObject: ' + text);\r\n    };\r\n    \r\n    return GameObject;\r\n    \r\n  })();\r\n  \r\n});",
    "define('lyria/input', function() {\r\n  var Input = {};\r\n  \r\n  Input.key = {};\r\n  Input.mouse = {};\r\n  \r\n  Input.key.down = function(key) {\r\n    \r\n  };\r\n  \r\n  Input.key.up = function(key) {\r\n    \r\n  };\r\n  \r\n  Input.mouse.down = function() {\r\n    \r\n  };\r\n  \r\n  Input.mouse.up = function() {\r\n    \r\n  };\r\n  \r\n  return Input;\r\n});",
    "define('lyria/input/key', function() {\r\n  var Key = {\r\n    'backspace': 8,\r\n    'tab': 9,\r\n    'enter': 13,\r\n    'shift': 16,\r\n    'ctrl': 17,\r\n    'alt': 18,\r\n    'escape': 27,\r\n    'left': 37,\r\n    'up': 38,\r\n    'right': 39,\r\n    'down': 40,\r\n    'insert': 45,\r\n    'delete': 46,\r\n    '0': 48,\r\n    '1': 49,\r\n    '2': 50,\r\n    '3': 51,\r\n    '4': 52,\r\n    '5': 53,\r\n    '6': 54,\r\n    '7': 55,\r\n    '8': 56,\r\n    '9': 57,\r\n    'a': 65,\r\n    'b': 66,\r\n    'c': 67,\r\n    'd': 68,\r\n    'e': 69,\r\n    'f': 70,\r\n    'g': 71,\r\n    'h': 72,\r\n    'i': 73,\r\n    'j': 74,\r\n    'k': 75,\r\n    'l': 76,\r\n    'm': 77,\r\n    'n': 78,\r\n    'o': 79,\r\n    'p': 80,\r\n    'q': 81,\r\n    'r': 82,\r\n    's': 83,\r\n    't': 84,\r\n    'u': 85,\r\n    'v': 86,\r\n    'w': 87,\r\n    'x': 88,\r\n    'y': 89,\r\n    'z': 90,\r\n    'numpad0': 96,\r\n    'numpad1': 97,\r\n    'numpad2': 98,\r\n    'numpad3': 99,\r\n    'numpad4': 100,\r\n    'numpad5': 101,\r\n    'numpad6': 102,\r\n    'numpad7': 103,\r\n    'numpad8': 104,\r\n    'numpad9': 105,\r\n    'f1': 112,\r\n    'f2': 113,\r\n    'f3': 114,\r\n    'f4': 115,\r\n    'f5': 116,\r\n    'f6': 117,\r\n    'f7': 118,\r\n    'f8': 119,\r\n    'f9': 120,\r\n    'f10': 121,\r\n    'f11': 122,\r\n    'f12': 123,\r\n    'semiColon': 186,\r\n    'equalSign': 187,\r\n    'comma': 188,\r\n    'dash': 189,\r\n    'period': 190,\r\n    'forwardSlash': 191,\r\n    'openBracket': 219,\r\n    'backSlash': 220,\r\n    'closeBraket': 221,\r\n    'singleQuote': 222\r\n  };\r\n  \r\n  Key.define = function(name, key) {\r\n    Key[name] = key;\r\n  };\r\n\r\n  return Key;\r\n\r\n});\r\n",
    "/**\r\n * Lyria module\r\n *\r\n * @module Lyria\r\n */\r\ndefine('lyria/layer', ['mixer', 'lyria/gameobject'], function(mixer, GameObject) {\r\n  'use strict';\r\n\r\n  return (function() {\r\n\r\n    /**\r\n     * @class Layer\r\n     * @extends Lyria.GameObject \r\n     * @constructor\r\n     */\r\n    var Layer = function() {\r\n      mixer(this.prototype, new GameObject());\r\n    };\r\n\r\n    return Layer;\r\n\r\n  })();\r\n}); ",
    "define('lyria/localization/group', ['lyria/localization'], function(Localization) {\r\n  \r\n  var LocalizationGroup = (function() {\r\n    var LocalizationGroup = function(groups) {\r\n      for (var key in groups) {\r\n        var value = groups[key];\r\n        \r\n        this[key] = new Localization(value);\r\n      }\r\n    };\r\n    \r\n    return LocalizationGroup;\r\n  })();\r\n  \r\n  return LocalizationGroup;\r\n  \r\n});\r\n",
    "define('lyria/localization', ['lyria/language', 'lyria/template/string', 'lyria/mixin/language'], function(Language, templateString, langMixin) {\r\n\r\n  var Localization = (function() {\r\n    var Localization = function(data) {\r\n      if (data == null) {\r\n        data = {};\r\n      }\r\n      \r\n      this.data = data;\r\n\r\n      var langValue = Language.language;\r\n\r\n      langMixin(this, langValue, this);\r\n    };\r\n\r\n    Localization.elements = function(localeData, localeLang, fallbackLang) {\r\n      if (fallbackLang == null) {\r\n        fallbackLang = 'en';\r\n      }\r\n      \r\n      return function(name, parameter) {\r\n        if (!localeData || Object.keys(localeData).length === 0) {\r\n          return '[[No language data found]]';          \r\n        }\r\n        \r\n        if (!localeData[localeLang] || Object.keys(localeData[localeLang]).length === 0) {\r\n          localeLang = fallbackLang;\r\n        }\r\n        \r\n        if (localeData[localeLang]) {\r\n          \r\n          if (localeData[localeLang][name] == null) {\r\n            return '[[Missing localization for ' + name + ']]';\r\n          }\r\n\r\n          if ( typeof localeData[localeLang][name] === 'string') {\r\n            return templateString.process(localeData[localeLang][name], parameter);\r\n          } else {\r\n            return {\r\n              plural: function(n) {\r\n                if (localeData[localeLang][name][n]) {\r\n                  return templateString.process(localeData[localeLang][name][n], parameter);\r\n                } else {\r\n                  return templateString.process(localeData[localeLang][name]['n'], parameter);\r\n                }\r\n              }\r\n            };\r\n          }\r\n        } else {\r\n          return '[[No language definition found for ' + localeLang + ']]';\r\n        }\r\n      };\r\n    };\r\n\r\n    Localization.prototype.exists = function(name) {\r\n      return !!(this.data && this.data[this.language] && this.data[this.language][name]);\r\n    };\r\n\r\n    Localization.prototype.t = function() {\r\n      return Localization.elements(this.data, this.language).apply(this, arguments);\r\n    };\r\n\r\n    return Localization;\r\n  })();\r\n\r\n  return Localization;\r\n});",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/log', ['root'], function(root) {\r\n  'use strict';\r\n  \r\n  /**\r\n   * @class Log \r\n   */\r\n  var Log = (function() {\r\n\r\n    var Log = {};\r\n\r\n    Log.Connector = null;\r\n\r\n    Log.Plugins = {};\r\n\r\n    Log.Plugins.Console = {\r\n      e: function() {\r\n        if (root.console && root.console.error) {\r\n          return root.console.error.apply(console, arguments);\r\n        }\r\n      },\r\n      w: function() {\r\n        if (root.console && root.console.warn) {\r\n          return root.console.warn.apply(console, arguments);\r\n        }\r\n      },\r\n      i: function() {\r\n        if (root.console && root.console.info) {\r\n          return root.console.info.apply(console, arguments);\r\n        }\r\n      },\r\n      d: function() {\r\n        if (root.console && root.console.log) {\r\n          return root.console.log.apply(console, arguments);\r\n        }\r\n      },\r\n      v: function() {\r\n        if (root.console && root.console.log) {\r\n          return root.console.log.apply(console, arguments);\r\n        }\r\n      }\r\n    };\r\n\r\n    Log.Connector = Log.Plugins.Console;\r\n\r\n    Log.logLevelMap = {\r\n      'error': ['e'],\r\n      'warn': ['w', 'e'],\r\n      'info': ['i', 'w', 'e'],\r\n      'debug': ['d', 'i', 'w', 'e'],\r\n      'verbose': ['v', 'd', 'i', 'w', 'e']\r\n    };\r\n\r\n    Log.logLevel = 'verbose';\r\n\r\n    var logFunctions = ['v', 'd', 'i', 'w', 'e'];\r\n\r\n    for (var i = 0, j = logFunctions.length; i < j; i++) {\r\n\r\n      (function(iterator) {\r\n        Log[iterator] = function() {\r\n          if (Log.logLevelMap[Log.logLevel].indexOf(iterator) >= 0) {\r\n            Log.Connector[iterator].apply(this, arguments);\r\n          }\r\n        };        \r\n      })(logFunctions[i]);\r\n      \r\n    }\r\n\r\n    return Log;\r\n\r\n  })();\r\n\r\n  // Map shorthand functions to Log.i\r\n  root.log = root.out = Log.i;\r\n  \r\n  return Log;\r\n});",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/loop', ['requestanimationframe', 'eventmap'], function(requestAnimationFrame, EventMap) {\r\n  'use strict';\r\n  \r\n  var loopEvents = new EventMap();\r\n  var pausedEvents = {};\r\n  \r\n  /**\r\n   * @class Loop\r\n   * @static \r\n   */\r\n  return (function() {\r\n\r\n    var isRunning = true;\r\n\r\n    /**\r\n     * @method run \r\n     */\r\n    var run = function() {\r\n      var time;\r\n\r\n      (function loop() {\r\n        requestAnimationFrame(loop);\r\n\r\n        var now = performance.now() || Date.now();\r\n        var dt = now - (time || now);\r\n\r\n        time = now;\r\n\r\n        if (!isRunning) {\r\n          return;\r\n        }\r\n\r\n        var eventKeys = Object.keys(loopEvents.events);\r\n        \r\n        for (var i = 0, j = eventKeys.length; i < j; i++) {\r\n          (function(key) {\r\n            if (!pausedEvents[key]) {\r\n              loopEvents.trigger(key, dt);\r\n            }\r\n          })(eventKeys[i]);\r\n        }\r\n      })();\r\n    };\r\n\r\n    /**\r\n     * @method stop \r\n     */\r\n    var stop = function() {\r\n      isRunning = false;\r\n    };\r\n\r\n    var clear = function() {\r\n      loopEvents.clear();\r\n      pausedEvents = {};\r\n    };\r\n    \r\n    var on = function(taskName, taskFunction) {\r\n      loopEvents.on(taskName, taskFunction);\r\n      pausedEvents[taskName] = false;\r\n    };\r\n    \r\n    var off = function(taskName) {\r\n      loopEvents.off(taskName);\r\n      if (pausedEvents[taskName] != null) {\r\n        delete pausedEvents[taskName];        \r\n      }\r\n    };\r\n\r\n    var pause = function(taskName) {\r\n      pausedEvents[taskName].paused = true;\r\n    };\r\n\r\n    var resume = function(taskName) {\r\n      if (taskName == null) {\r\n        isRunning = true;\r\n        return;\r\n      }\r\n      \r\n      pausedEvents[taskName].paused = false;\r\n    };\r\n\r\n\r\n    return {\r\n      run: run,\r\n      \r\n      stop: stop,\r\n      clear: clear,\r\n      \r\n      on: on,\r\n      off: off,\r\n      \r\n      pause: pause,\r\n      resume: resume\r\n    };\r\n  })();\r\n  \r\n});",
    "define('lyria/math', ['random', 'clamp', 'fisheryates'], function(random, clamp, fisheryates) {\n\n  var Math = {\n    random: random,\n    clamp: clamp,\n    fisherYates: fisheryates\n  };\n\n  return Math;\n\n});\n",
    "/**\r\n * Mixin language property into objects \r\n */\r\n\r\ndefine('lyria/mixin/language', function() {\r\n  return function(attachedObject, value, eventMap) {\r\n\r\n    Object.defineProperty(attachedObject, 'language', {\r\n      get: function() {\r\n        return value;\r\n      },\r\n      set: function(val) {\r\n        value = val;\r\n        eventMap.trigger('language:change', value);\r\n      },\r\n      configurable: true,\r\n      enumarable: true\r\n    });\r\n\r\n  };\r\n}); ",
    "/**\r\n * @namespace Lyria\r\n * Lyria namespace decleration\r\n */\r\ndefine('lyria/prefab', ['lyria/scene'], function(Scene) {\r\n\t'use strict';\r\n\r\n  // TODO: Allow own Prefab.requireAlways similar to Scene.requireAlways\r\n\r\n\t//Lyria.Prefab\r\n\treturn Scene;\r\n  \r\n});",
    "define('lyria/prefab/manager', ['jqueryify', 'jquery', 'root'], function($ify, $, root) {\r\n  var PrefabManager = {};\r\n\r\n  PrefabManager.prefabs = {};\r\n  PrefabManager.viewport = null;\r\n  PrefabManager.className = 'prefab';\r\n\r\n  var createElement = function(type) {\r\n    return function(name, parent, data) {\r\n      if (parent == null) {\r\n        parent = ((PrefabManager.viewport) ? PrefabManager.viewport.$element :\r\n        void 0) || 'body';\r\n      }\r\n      \r\n      var prefab = null;\r\n      \r\n      if (!PrefabManager.prefabs[name]) {\r\n        throw new Error('No valid prefab called ' + name + ' found.');\r\n      } else {\r\n        prefab = PrefabManager.prefabs[name](data);\r\n      }\r\n\r\n      var $parent = $ify(parent);\r\n\r\n      if ($parent) {\r\n        if ($('#' + prefab.name).length === 0) {\r\n          $parent[type]($(root.document.createElement('div')).attr('id', prefab.name).attr('class', PrefabManager.className));\r\n        }\r\n\r\n        if (!prefab.isAsync) {\r\n          prefab.trigger('added');\r\n        }\r\n      }\r\n    };\r\n  };\r\n\r\n  PrefabManager.append = function() {\r\n    createElement('append').apply(this, arguments);\r\n  };\r\n\r\n  PrefabManager.prepend = function() {\r\n    createElement('prepend').apply(this, arguments);\r\n  };\r\n  \r\n  PrefabManager.insert = function() {\r\n    createElement('html').apply(this, arguments);\r\n  };\r\n\r\n  return PrefabManager;\r\n});\r\n",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/preloader', ['root', 'mixer', 'jquery', 'lyria/resource', 'lyria/log', 'eventmap'], function(root, mixer, $, Resource, Log, EventMap) {'use strict';\r\n\r\n  /**\r\n   * Provides a preloader to load assets before they are needed\r\n   * \r\n   * @class Preloader\r\n   */\r\n  var Preloader = (function() {\r\n\r\n    /**\r\n     * @constructor\r\n     * \r\n     * @param {Object} assetObject\r\n     */\r\n    var Preloader = function(assetObject) {\r\n      mixer([this, Preloader.prototype], new EventMap());\r\n\r\n      /**\r\n       * @property assets\r\n       * @type {Array} \r\n       */\r\n      if (assetObject != null) {\r\n        this.assets = assetObject;\r\n      } else {\r\n        this.assets = {};\r\n      }\r\n  \r\n      /**\r\n       * @property maxAssets\r\n       * @type {Number}\r\n       * @default 0 \r\n       */\r\n      this.maxAssets = 0;\r\n      \r\n      /**\r\n       * @property assetsLoaded\r\n       * @type {Number}\r\n       * @default 0 \r\n       */\r\n      this.assetsLoaded = 0;\r\n      \r\n      /**\r\n       * @property percentLoaded\r\n       * @type {Number}\r\n       * @default 0 \r\n       */\r\n      this.percentLoaded = 0;\r\n      \r\n      /**\r\n       * @property steps\r\n       * @type {Array} \r\n       */\r\n      this.steps = [];\r\n      \r\n      /**\r\n       * @property taskList\r\n       * @type {Array} \r\n       */\r\n      this.taskList = [];\r\n    };\r\n\r\n    /**\r\n     * Adds a custom task to the preloader\r\n     * \r\n     * @param {Function} taskFn \r\n     */\r\n    Preloader.prototype.task = function(taskFn) {\r\n      taskList.add(taskFn);\r\n    };\r\n\r\n    /**\r\n     * Starts the preloader and loads all assets asynchronously. Triggers\r\n     * events when necessary.\r\n     * \r\n     * @method start \r\n     */\r\n    Preloader.prototype.start = function() {\r\n      // Check if it's valid\r\n      if (this.assets == null) {\r\n        throw new Error('Assets should not be null. Pass at least an empty object.');\r\n      }\r\n      \r\n\r\n      this.trigger('start');\r\n\r\n      var totalSize = 0;\r\n\r\n      // Trigger complete event if there is nothing to load\r\n      if (Object.keys(this.assets).length > 0) {\r\n        totalSize = this.assets.totalSize;\r\n      }\r\n      \r\n      var currentProgress = 0;\r\n      \r\n      if ((this.steps == null) || (this.steps.length === 0)) {\r\n        \r\n      }\r\n      \r\n      var hasLoadingScene = this.sceneDirector != null && this.loadingScene != null;\r\n      \r\n      if (hasLoadingScene) {\r\n        this.sceneDirector.show(this.loadingScene);\r\n      }\r\n      \r\n      \r\n      var self = this;\r\n\r\n      var loadingProgress = function() {\r\n\r\n        var percentLoaded = 100;\r\n        \r\n        if (currentProgress !== totalSize) {\r\n          percentLoaded = currentProgress / totalSize;\r\n        }\r\n\r\n        self.trigger('progress', percentLoaded);\r\n        \r\n        if (hasLoadingScene) {\r\n          self.sceneDirector.currentScene.trigger('progress', percentLoaded, currentProgress, totalSize);\r\n        }\r\n\r\n        if (currentProgress >= totalSize) {\r\n          if (hasLoadingScene) {\r\n            self.sceneDirector.currentScene.trigger('complete');\r\n          }\r\n\r\n          self.trigger('complete');\r\n        }\r\n      };\r\n\r\n\r\n      if (Object.keys(this.assets).length > 0) {\r\n        // Go through all assets and preload them\r\n        $.each(this.assets, function(key, value) {\r\n          \r\n          if (value.files == null || !Array.isArray(value.files) || value.files.length === 0) {\r\n            return true;\r\n          }\r\n          \r\n          for (var i = 0, j = value.files.length; i < j; i++) {\r\n            (function(iterator) {\r\n              \r\n              if (iterator.type.indexOf('image') === 0) {\r\n                var img = new root.Image();\r\n                img.onload = function() {\r\n                  currentProgress += iterator.size;\r\n      \r\n                  loadingProgress();\r\n                };\r\n      \r\n                img.onerror = function(err) {\r\n                  Log.e('Error while loading ' + iterator.name);\r\n                };\r\n      \r\n                img.src = iterator.name;\r\n              } else {\r\n                $.ajax({\r\n                  url: iterator.name,\r\n                  dataType: 'text'\r\n                }).always(function() {\r\n                  currentProgress += iterator.size;\r\n      \r\n                  loadingProgress();\r\n                }).error(function(err) {\r\n                  Log.e('Error while loading ' + iterator.name + ': ' + err);\r\n                });\r\n              }\r\n              \r\n            })(value.files[i]);\r\n          }\r\n        });\r\n      } else {\r\n        loadingProgress();\r\n      }\r\n      \r\n    };\r\n\r\n    return Preloader;\r\n\r\n  })();\r\n\r\n  return Preloader;\r\n});",
    "/**\r\n * @namespace Lyria\r\n * Lyria namespace decleration\r\n */\r\ndefine('lyria/resource', ['path'], function(Path) {\r\n  \r\n  var Resource = {\r\n    /**\r\n     *\r\n     */\r\n    path: {\r\n      assets: 'assets',\r\n      audio: 'audio',\r\n      data: 'data',\r\n      image: 'images',\r\n      scene: 'scenes',\r\n      video: 'video',\r\n      prefab: 'prefabs'\r\n    },\r\n  \r\n    /**\r\n     * Returns the relative filename to an asset by filename and type\r\n     * \r\n     * @param {String} filename\r\n     * @param {String} type\r\n     */\r\n    name: function(filename, type) {\r\n      if (!filename) {\r\n        return;\r\n      }\r\n  \r\n      var assetPath = Resource.path['assets'];\r\n      var typePath = (Resource.path[type]) ? (Resource.path[type]) : type;\r\n      \r\n      return Path.resolve(assetPath, [Path.dotToPath(typePath), filename]);\r\n    }\r\n    \r\n  };\r\n  \r\n  return Resource;\r\n}); ",
    "/**\r\n * @module Lyria\r\n * @submodule Scene\r\n */\r\ndefine('lyria/scene/director', ['root', 'mixer', 'jquery', 'eventmap', 'lyria/scene', 'lyria/viewport'], function(root, mixer, $, EventMap, Scene, Viewport) {'use strict';\r\n\r\n  /**\r\n   * The scene director is the manager for all scenes\r\n   *\r\n   */\r\n  return (function() {\r\n\r\n    /**\r\n     * The scene director constructor\r\n     * Attaches a scene director to a container, the parent is optional\r\n     *\r\n     * @class Director\r\n     * @constructor\r\n     *\r\n     * @param {Object} container\r\n     * @param {Object} parent\r\n     */\r\n    function SceneDirector(container, parent) {\r\n      mixer([this, SceneDirector.prototype], new EventMap());\r\n\r\n      if ( container instanceof Viewport) {\r\n        this.viewport = container;\r\n      } else {\r\n        this.viewport = new Viewport(container, {\r\n          parent: parent\r\n        });\r\n      }\r\n\r\n      /**\r\n       * All scenes\r\n       *\r\n       * @property sceneList\r\n       * @type {Object}\r\n       */\r\n      this.sceneList = {};\r\n\r\n      /**\r\n       * @property className\r\n       * @type {String}\r\n       */\r\n      this.className = 'scene';\r\n\r\n      /**\r\n       * The current scene\r\n       *\r\n       * @property currentScene\r\n       * @type {Scene}\r\n       */\r\n      this.currentScene = null;\r\n\r\n      /**\r\n       * The default scene\r\n       *\r\n       * @property defaultScene\r\n       * @type {String}\r\n       */\r\n      this.defaultScene = null;\r\n\r\n      /**\r\n       * Define events for scene director\r\n       *\r\n       */\r\n      this.on('render', function() {\r\n        if (this.currentScene) {\r\n          this.currentScene.trigger('render');\r\n        }\r\n      });\r\n\r\n      this.on('update', function(dt) {\r\n        if (this.currentScene) {\r\n          this.currentScene.trigger('update', dt);\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Adds a scene to the scene director\r\n     *\r\n     * @method add\r\n     * @param {Object} scene\r\n     * @param {Object} data\r\n     */\r\n    SceneDirector.prototype.add = function(scene, data) {\r\n\r\n      // Shorthand to add all scenes to the scene director\r\n      if (scene === '*' && this.scenes) {\r\n        scene = Object.keys(this.scenes);\r\n      }\r\n\r\n      // Allow array as scenes\r\n      if (Array.isArray(scene)) {\r\n        for (var i = 0, j = scene.length; i < j; i++) {\r\n          this.add(scene[i], data);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Handle string - Check in scene list\r\n      if (this.scenes && Object.keys(this.scenes).length > 0) {\r\n        scene = this.scenes[scene](data);\r\n      } else {\r\n        // Scene object\r\n        if ( scene instanceof Scene) {\r\n          // Add to scenes if it's an actual scene\r\n          if (data) {\r\n            scene.data = data;\r\n          }\r\n          this.scenes[scene.name] = scene;\r\n        } else {\r\n          // Function\r\n          if ( typeof scene === 'function') {\r\n            var sceneObj = scene(data);\r\n\r\n            this.scenes[sceneObj.name] = sceneObj;\r\n          } else {\r\n            // Well, if none of these - There is only one choice\r\n            throw new Error('No valid scene found.');\r\n          }\r\n        }\r\n      }\r\n\r\n      // Set scene parent\r\n      scene.parent = this;\r\n\r\n      // Update reference to the game itself\r\n      if (this.parent != null) {\r\n        scene.game = this.parent;\r\n      }\r\n\r\n      // Add first scene as a default scene\r\n      if (Object.keys(this.sceneList).length === 0) {\r\n        this.defaultScene = scene.name;\r\n      }\r\n\r\n      // Set scene in sceneList\r\n      this.sceneList[scene.name] = scene;\r\n\r\n      if (this.viewport.$element) {\r\n        if ($('#' + scene.name).length === 0) {\r\n          this.viewport.$element.prepend($(root.document.createElement('div')).attr('id', scene.name).attr('class', this.className));\r\n        }\r\n      }\r\n\r\n      scene.trigger('added');\r\n\r\n      return this;\r\n    };\r\n\r\n    /**\r\n     * Shows a specified scene\r\n     *\r\n     * @method show\r\n     * @param {String} scene name of scene\r\n     * @param {Object} options\r\n     * @param {Function} callback\r\n     */\r\n    SceneDirector.prototype.show = function(sceneName, options, callback) {\r\n      if (!sceneName) {\r\n        return;\r\n      }\r\n\r\n      // More than one scene visible at the same time\r\n      if ($('.' + this.className + ':visible')) {\r\n        $('.' + this.className).hide();\r\n      }\r\n\r\n      if (this.currentScene) {\r\n        if (this.currentScene.transition && this.currentScene.length) {\r\n          $('#' + this.currentScene).hide(this.currentScene.transition.length, function() {\r\n            $('.' + this.className).hide();\r\n          });\r\n        } else {\r\n          $('.' + this.className).hide();\r\n        }\r\n\r\n        this.currentScene.trigger('deactivate', options);\r\n      }\r\n\r\n      var self = this;\r\n\r\n      self.currentScene = this.sceneList[sceneName];\r\n\r\n      if (self.currentScene.transition && self.currentScene.transition.length) {\r\n        $('#' + sceneName).show(self.currentScene.transition.length);\r\n      } else {\r\n        $('#' + sceneName).show();\r\n      }\r\n      this.trigger('scene:change', sceneName);\r\n      self.currentScene.trigger('active', options);\r\n\r\n      if (callback) {\r\n        callback(sceneName);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Refreshes a scene\r\n     *\r\n     * @method refresh\r\n     * @param {String} scene\r\n     */\r\n    SceneDirector.prototype.refresh = function(scene) {\r\n      var sceneObj = (scene) ? this.sceneList[scene] : this.currentScene;\r\n\r\n      // Re-compile scene template\r\n      sceneObj.refresh();\r\n    };\r\n\r\n    return SceneDirector;\r\n\r\n  })();\r\n}); ",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/scene', ['jquery', 'mixer', 'nexttick', 'eventmap', 'lyria/gameobject', 'lyria/language', 'lyria/log', 'lyria/localization'], function($, mixer, nextTick, EventMap, GameObject, Language, Log, Localization) {'use strict';\r\n\r\n  var createNamespace = function(obj, chain, value) {\r\n    var chainArr = chain.split('.');\r\n\r\n    for (var i = 0, j = chainArr.length; i < j; i++) {\r\n      (function(item, lastElem) {\r\n        if (lastElem) {\r\n          obj[item] = value;\r\n        } else {\r\n          obj[item] = obj[item] || {};\r\n        }\r\n\r\n        obj = obj[item];\r\n      })(chainArr[i], i === j - 1);\r\n    }\r\n  };\r\n\r\n  var Scene = (function() {\r\n\r\n    /**\r\n     * Scene constructor\r\n     *\r\n     * @class Scene\r\n     * @constructor\r\n     */\r\n    var Scene = function(sceneName, sceneDeps, sceneFunction, options) {\r\n      if (!sceneName) {\r\n        return;\r\n      }\r\n\r\n      if ( typeof sceneDeps === 'function') {\r\n        options = sceneFunction;\r\n        sceneFunction = sceneDeps;\r\n        sceneDeps = {};\r\n      }\r\n\r\n      // Mixin event map into Scene\r\n      // Sender: \"scene:#{sceneName}\"\r\n      mixer([this, Scene.prototype], new EventMap());\r\n\r\n      // We need a reference to the scene not being this\r\n      var self = this;\r\n\r\n      // Set name\r\n      this.name = sceneName;\r\n      \r\n      // Data\r\n      this.data = options.data || {};\r\n\r\n      // Default values\r\n      this.localization = new Localization();\r\n\r\n      // Default event value\r\n      this.defaultEvent = 'click';\r\n\r\n      this.template = {};\r\n      this.template.source = null;\r\n      this.template.helpers = {};\r\n      this.template.partials = {};\r\n      // Collect all template values\r\n      this.template.data = {};\r\n\r\n      this.children = this.children || {};\r\n      this.children.gameObjects = {};\r\n      this.children.prefabs = {};\r\n\r\n      // Expose function for template values\r\n      this.expose = function(obj) {\r\n        if (!obj || $.isEmptyObject(obj)) {\r\n          return;\r\n        }\r\n\r\n        self.template.data = $.extend(true, self.template.data, obj);\r\n      };\r\n\r\n      Object.defineProperty(self, '$element', {\r\n        get: function() {\r\n          return $('#' + self.name);\r\n        }\r\n      });\r\n\r\n      // Synchronizes events and scene view\r\n      self.on('synchronize', function() {\r\n        self.refresh();\r\n\r\n        if (self.DOMEvents) {\r\n          if (options && options.isPrefab) {\r\n            self.DOMEvents.delegate = (options.target) ? options.target : 'body';\r\n          } else {\r\n            self.DOMEvents.delegate = '#' + sceneName;\r\n          }\r\n        }\r\n\r\n        self.on('update', function(dt) {\r\n          $.each(self.children, function(childKey, childValue) {\r\n            if (!$.isEmptyObject(childValue)) {\r\n              $.each(childValue, function(key, value) {\r\n                value.trigger('update', dt);\r\n              });\r\n            }\r\n          });\r\n        });\r\n\r\n        // Bind events\r\n        if (self.DOMEvents && !$.isEmptyObject(self.DOMEvents)) {\r\n          $.each(self.DOMEvents, function(key, value) {\r\n            if (( typeof value === 'object') && (key !== 'delegate')) {\r\n              $(self.DOMEvents.delegate).on(value, key, {\r\n                scene: self\r\n              });\r\n            }\r\n          });\r\n        }\r\n\r\n        // Data binding\r\n        // TODO: Find a better way than using Object.watch\r\n        if (self.template.data && !$.isEmptyObject(self.template.data)) {\r\n          $('#' + self.name + ' [data-bind]').each(function() {\r\n            var $dataElem = $(this);\r\n\r\n            var prop = $dataElem.data('bind');\r\n\r\n            self.template.data.watch(prop, function(id, oldval, newval) {\r\n              if (oldval !== newval) {\r\n                $dataElem.html(newval);\r\n              }\r\n\r\n              return newval;\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      var createScene = function(modules) {\r\n        var sceneDone = function(err, success) {\r\n          if (err) {\r\n            return console.error('Error while executing scene ' + self.name + ': ' + err);\r\n          }\r\n\r\n          self.trigger('synchronize');\r\n        };\r\n\r\n        var async = false;\r\n\r\n        var context = self;\r\n        context.async = function() {\r\n          async = true;\r\n\r\n          return function() {\r\n            nextTick(function() {\r\n              sceneDone();\r\n            });\r\n          };\r\n        };\r\n\r\n        if (!self.hasOwnProperty('isAsync')) {\r\n          Object.defineProperty(self, 'isAsync', {\r\n            get: function() {\r\n              return async;\r\n            }\r\n          });\r\n        }\r\n\r\n        context.modules = modules;\r\n\r\n        try {\r\n          var success = sceneFunction.apply(context, [context, modules]);\r\n\r\n          if (!async) {\r\n            sceneDone(null, success);\r\n          }\r\n        } catch (e) {\r\n          sceneDone(e);\r\n        }\r\n      };\r\n\r\n      // Call scene\r\n      var reqModules = Object.keys(Scene.requireAlways) || [];\r\n\r\n      self.on('added', function() {\r\n        require(reqModules, function() {\r\n          var importedModules = {};\r\n  \r\n          for (var i = 0, j = arguments.length; i < j; i++) {\r\n            (function(dep) {\r\n              createNamespace(importedModules, Scene.requireAlways[reqModules[i]], dep);\r\n            })(arguments[i]);\r\n          }\r\n  \r\n          sceneDeps = sceneDeps || {};\r\n          var reqSceneModules = Object.keys(sceneDeps) || [];\r\n  \r\n          if (reqSceneModules.length) {\r\n            require(reqSceneModules, function() {\r\n  \r\n              for (var k = 0, l = arguments.length; k < l; k++) {\r\n                (function(sceneDep) {\r\n                  createNamespace(importedModules, sceneDeps[reqSceneModules[j]], sceneDep);\r\n                })(arguments[j]);\r\n              }\r\n  \r\n              createScene(importedModules);\r\n            });\r\n          } else {\r\n            createScene(importedModules);\r\n          }\r\n  \r\n        });\r\n      });\r\n      \r\n    };\r\n\r\n    /**\r\n     * Adds a gameobject to the scene\r\n     *\r\n     * @method add\r\n     * @param {Object} child\r\n     */\r\n    Scene.prototype.add = function(child) {\r\n      var self = this;\r\n\r\n      if ( child instanceof GameObject) {\r\n        this.children.gameObjects[child.name] = child;\r\n\r\n        this.template.data.gameobject = (function() {\r\n          var array = [];\r\n\r\n          $.each(self.children.gameObjects, function(key, value) {\r\n            array.push(value);\r\n          });\r\n\r\n          return array;\r\n        })();\r\n\r\n        this.trigger('add');\r\n\r\n        return true;\r\n      }\r\n\r\n      if ( child instanceof GameObject) {\r\n        this.children.prefabs[child.name] = child;\r\n\r\n        this.template.data.gameobject = (function() {\r\n          var array = [];\r\n\r\n          $.each(self.children.gameObjects, function(key, value) {\r\n            array.push(value);\r\n          });\r\n\r\n          return array;\r\n        })();\r\n\r\n        this.trigger('add');\r\n\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    /**\r\n     * Refreshes the scene (Re-renders the template)\r\n     *\r\n     * @method refresh\r\n     * @param {Object} val\r\n     */\r\n    Scene.prototype.refresh = function(val) {\r\n      if (val == null && this.template) {\r\n        val = this.template.data;\r\n      }\r\n\r\n      // Add default helpers\r\n      this.template.helpers['translate'] = Localization.elements(this.localization.data, this.localization.language);\r\n\r\n      if (this.template && this.template.source) {\r\n        this.content = this.template.source(val, {\r\n          partials: this.template.partials,\r\n          helpers: this.template.helpers\r\n        });\r\n      }\r\n\r\n      if (this.$element.length > 0) {\r\n        this.$element.html(this.content);\r\n      }\r\n\r\n      this.trigger('refresh');\r\n    };\r\n\r\n    /**\r\n     * Sets an event to the event object (DOM events)\r\n     *\r\n     * @method bindEvent\r\n     * @param {String} selector\r\n     * @param {String} eventName\r\n     * @param {Function} eventFunction\r\n     */\r\n    Scene.prototype.bindEvent = function(selector, eventName, eventFunction) {\r\n      if (selector == null) {\r\n        return;\r\n      }\r\n\r\n      if ( typeof eventName === 'function') {\r\n        this.DOMEvents[selector][this.defaultEvent] = eventFunction;\r\n      } else {\r\n        this.DOMEvents[selector][eventName] = eventFunction;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Binds a lot of events instead of a single one\r\n     * \r\n     * @method bindEvents\r\n     * @param {Object} eventObject\r\n     * @see bindEvent\r\n     */\r\n    Scene.prototype.bindEvents = function(eventObject) {\r\n      if (eventObject == null) {\r\n        return;\r\n      }\r\n      \r\n      for (var key in eventObject) {\r\n        if (Object.hasOwnProperty.call(eventObject, key)) {\r\n          this.DOMEvents[key] = eventObject[key];\r\n        }\r\n      }\r\n    };\r\n\r\n    /*\r\n     * Unbinds a previously bound event\r\n     *\r\n     * @method unbindEvent\r\n     * @param {String} selector\r\n     * @param {String} eventName\r\n     * @param {Function} eventFunction\r\n     */\r\n    Scene.prototype.unbindEvent = function(selector, eventName) {\r\n      if (selector == null) {\r\n        return;\r\n      }\r\n\r\n      if (eventName == null) {\r\n        delete this.DOMEvents[selector];\r\n      } else {\r\n        delete this.DOMEvents[selector][eventName];\r\n      }\r\n    };\r\n    \r\n    /**\r\n     * Unbinds a lot of events\r\n     * \r\n     * @method unbindEvents\r\n     * @param [Object] eventObject\r\n     */\r\n    Scene.prototype.unbindEvents = function(eventObject) {\r\n      if (eventObject == null || eventObject === '*') {\r\n        this.DOMEvents = {};\r\n        return;\r\n      }\r\n      \r\n      if (Array.isArray(eventObject)) {\r\n        for (var i = 0, j = eventObject.length; i < j; i++) {\r\n          if (this.DOMEvents[eventObject[i]]) {\r\n            delete this.DOMEvents[eventObject[i]];\r\n          }\r\n        }\r\n      } else {\r\n        for (var key in eventObject) {\r\n          if (Object.hasOwnProperty.call(eventObject, key)) {\r\n            var value = eventObject[key];\r\n            \r\n            if (Array.isArray(value)) {\r\n              for (var k = 0, l = value.length; k < l; k++) {\r\n                delete this.DOMEvents[key][value[k]];\r\n              }\r\n            } else {\r\n              delete this.DOMEvents[key][value];\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Gets localized value\r\n     *\r\n     * @param {Object} lang\r\n     */\r\n    Scene.prototype.t = function() {\r\n      if (this.localization && this.localization.t) {\r\n        return this.localization.t.apply(this.localization, arguments);\r\n      } else {\r\n        return;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Logging directly from the scene\r\n     *\r\n     * @param {Object} text\r\n     */\r\n    Scene.prototype.log = function(text) {\r\n      Log.i('Scene ' + this.name + ': ' + text);\r\n    };\r\n\r\n    Scene.requireAlways = {\r\n      // Third-party modules\r\n      'jquery': '$',\r\n      \r\n      // Lyria modules\r\n      'lyria/achievement': 'Lyria.Achievement',\r\n      'lyria/achievement/manager': 'Lyria.AchievementManager',\r\n      'lyria/animation': 'Lyria.Animation',\r\n      'lyria/audio': 'Lyria.Audio',\r\n      'lyria/checkpoints': 'Lyria.Checkpoints',\r\n      'lyria/component': 'Lyria.Component',\r\n      'lyria/events': 'Lyria.Events',\r\n      'lyria/gameobject': 'Lyria.GameObject',\r\n      'lyria/log': 'Lyria.Log',\r\n      'lyria/loop': 'Lyria.Loop',\r\n      'lyria/prefab/manager': 'Lyria.PrefabManager',\r\n      'lyria/resource': 'Lyria.Resource',\r\n      'lyria/tween': 'Lyria.Tween'\r\n    };\r\n\r\n    return Scene;\r\n\r\n  })();\r\n\r\n  return Scene;\r\n\r\n});\r\n",
    "define('lyria/serialize', ['jquery'], function($) {\r\n  \r\n  /**\r\n   *\r\n   * @param {Object} anyObject\r\n   *\r\n   * @returns {String}\r\n   */\r\n  var serialize = function(anyObject) {\r\n    if (( typeof anyObject !== 'object') || ( anyObject instanceof $)) {\r\n      return;\r\n    }\r\n    \r\n    return JSON.stringify(anyObject, function(key, value) {\r\n      if (value instanceof $) {\r\n        return null;\r\n      }\r\n      \r\n      if (typeof value === 'function') {\r\n        value = value.toString();\r\n      }\r\n      \r\n      return value;\r\n    });\r\n  };\r\n\r\n  return serialize;\r\n});\r\n",
    " /**\r\n * @module Lyria\r\n * @submodule Template \r\n */\r\ndefine('lyria/template/connector', ['lyria/template/methods'], function(templateMethods) {\r\n  var noop = function() {\r\n  };\r\n\r\n  return (function() {\r\n\r\n    /**\r\n     * @class Connector \r\n     * @constructor\r\n     */\r\n    var TemplateConnector = function(functionRefs) {\r\n      if ( typeof functionRefs === 'object') {\r\n        var key, value;\r\n\r\n        for (key in functionRefs) {\r\n          value = functionRefs[key];\r\n\r\n          if ( typeof value === 'function') {\r\n            this[key] = value;\r\n          }\r\n        }\r\n\r\n      }\r\n    };\r\n\r\n    for (var i = 0, j = templateMethods.length; i < j; i++) {\r\n      (function(iterator) {\r\n        TemplateConnector.prototype[iterator] = noop;\r\n      })(templateMethods[i]);\r\n    }\r\n\r\n    return TemplateConnector;\r\n\r\n  })();\r\n}); ",
    "/**\r\n * @module Lyria\r\n * @submodule Template\r\n */\r\ndefine('lyria/template/engine', ['root', 'lyria/template/connector', 'lyria/template/methods'], function(root, TemplateConnector, templateMethods) {\r\n\r\n  var noop = function() {\r\n  };\r\n\r\n  /**\r\n   * @class Engine\r\n   * @constructor\r\n   *\r\n   * @param {Object} templateConnector\r\n   */\r\n  var TemplateEngine = function(templateConnector) {\r\n    if ( templateConnector instanceof TemplateConnector) {\r\n      for (var i = 0, j = templateMethods.length; i < j; i++) {\r\n        (function(iterator) {\r\n          if ((templateConnector[iterator] != null) && ( typeof templateConnector[iterator] === 'function')) {\r\n            TemplateEngine[iterator] = templateConnector[iterator];\r\n          } else {\r\n            TemplateEngine[iterator] = noop;\r\n          }\r\n        })(templateMethods[i]);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (root.Handlebars) {\r\n    var handlebarsConnector = new TemplateConnector({\r\n      compile: function() {\r\n        return root.Handlebars.template.apply(this, arguments);\r\n      },\r\n      globalHelpers: function() {\r\n        return root.Handlebars.helpers;\r\n      }\r\n    });\r\n\r\n    TemplateEngine(handlebarsConnector);\r\n  }\r\n  \r\n  return TemplateEngine;\r\n\r\n});\r\n",
    "/**\r\n * @module Lyria\r\n */\r\n\r\ndefine('lyria/template/methods', function() {\r\n  return ['compile'];\r\n});\r\n",
    "define('lyria/template/string', function() {\r\n  var templateString = {\r\n    key: {\r\n      start: '{{',\r\n      end: '}}'\r\n    },\r\n    process: function(value, parameter) {\r\n      if (value == null) {\r\n        return;\r\n      }\r\n\r\n      // Array or object\r\n      if ( typeof parameter === 'object') {\r\n        if (Array.isArray(parameter)) {\r\n          for (var i = 0, j = parameter.length; i < j; i++) {\r\n            value = value.replace(new RegExp(templateString.key.start + i + templateString.key.end), parameter[i]);\r\n          }\r\n        } else {\r\n          var paramKeys = Object.keys(parameter);\r\n\r\n          for (var k = 0, l = paramKeys.length; k < l; k++) {\r\n            (function(item) {\r\n              value = value.replace(new RegExp(templateString.key.start + paramKeys[k] + templateString.key.end), item);\r\n            })(parameter[paramKeys[k]]);\r\n          }\r\n        }\r\n      }\r\n\r\n      return value;\r\n    }\r\n  };\r\n\r\n  return templateString;\r\n});\r\n",
    "define('lyria/tween', ['eventmap', 'mixer', 'options', 'jqueryify'], function(EventMap, mixer, options, $fy) {\r\n  var Tween = (function() {\r\n    var Tween = function(opts) {\r\n      opts = options(opts, {\r\n        elem: null,\r\n        effects: [{\r\n          property: null,\r\n          target: null,\r\n          easing: Tween.defaults.easing,\r\n          duration: Tween.defaults.duration,\r\n          delay: Tween.defaults.delay\r\n        }]\r\n      });\r\n      \r\n      this.$elem = $fy(opts.elem);\r\n      this.effects = opts.effects;\r\n\r\n      this.hwAccelerated = true;\r\n\r\n      mixer([this, Tween.prototype], new EventMap());\r\n\r\n      var self = this;\r\n\r\n      this.on('start', function() {\r\n        if (self.$elem) {\r\n          return;\r\n        }\r\n        \r\n        var effects = [];\r\n        var properties = {};\r\n        \r\n        for (var i = 0, j = self.effects.length; i < j; i++) {\r\n          (function(item) {\r\n            if (item.property == null || item.target == null) {\r\n              return;\r\n            }\r\n            \r\n            item.duration = item.duration || Tween.defaults.duration;\r\n            item.easing = item.easing || Tween.defaults.easing;\r\n            item.delay = item.delay || Tween.defaults.delay;\r\n            \r\n            effects.push([item.property, item.duration, item.easing, item.delay].join(' '));\r\n            properties[item.property] = item.target;\r\n          })(self.effects[i]);\r\n        }\r\n        \r\n        properties['transition'] = effects.join(', ');\r\n        self.$elem.css(properties);\r\n        \r\n        $(document).one('transitionend', function(e) {\r\n          console.log(e.target);\r\n        });\r\n      });\r\n    };\r\n    \r\n    Tween.defaults = {\r\n      easing: 'linear',\r\n      duration: '300ms',\r\n      delay: '0ms'\r\n    };\r\n\r\n    return Tween;\r\n  })();\r\n\r\n  return Tween;\r\n}); ",
    "/**\r\n * @namespace Lyria\r\n * Lyria namespace decleration\r\n */\r\ndefine('lyria/utils', ['jquery'], function($) {\r\n  \r\n  \r\n  var Utils = {};\r\n  \r\n  /**\r\n   *\r\n   * @param {Object} filename\r\n   *\r\n   * @returns {Boolean}\r\n   */\r\n  Utils.isFile = function(filename) {\r\n    var sepPos = filename.indexOf('.');\r\n    if (sepPos === -1) {\r\n      return false;\r\n    }\r\n\r\n    var filenameLength = filename.length;\r\n    var diff = filenameLength - sepPos;\r\n\r\n    // A filename extension is allowed to be one to four characters long.\r\n    if ((diff > 1) && (diff <= 5)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  \r\n  return Utils;\r\n  \r\n});\r\n",
    "\r\ndefine('lyria/video', function() {\r\n  'use strict';\r\n\r\n\r\n  return (function() {\r\n    var Video = function() {\r\n\r\n    };\r\n\r\n    Video.prototype.loadFromFile = function() {\r\n      \r\n    };\r\n    \r\n    Video.prototype.play = function() {\r\n      \r\n    };\r\n    \r\n    Video.prototype.pause = function() {\r\n      \r\n    };\r\n    \r\n    Video.prototype.stop = function() {\r\n      \r\n    };\r\n\r\n    return Video;\r\n  })();\r\n  \r\n});\r\n",
    "/**\r\n * @module Lyria\r\n */\r\ndefine('lyria/viewport', ['root', 'jquery', 'mixer', 'eventmap'], function(root, $, mixer, EventMap) {'use strict';\r\n\r\n  return (function() {\r\n\r\n    /**\r\n     * @class Viewport\r\n     * @constructor\r\n     */\r\n    function Viewport(container, options) {\r\n      var defaultOptions = {\r\n        parent: null,\r\n        trigger: {\r\n          element: window,\r\n          event: 'resize'\r\n        },\r\n        scaleMode: 'scaleToFit'\r\n      };\r\n\r\n      options = $.extend(options, defaultOptions);\r\n      \r\n      mixer([this, Viewport.prototype], new EventMap());\r\n\r\n      this.scaleMode = options.scaleMode;\r\n\r\n      // Defaults container to the string 'viewport'\r\n      if (container == null) {\r\n        container = 'viewport';\r\n      }\r\n      \r\n      Object.defineProperty(this, '$element', {\r\n        get: function() {\r\n          return $('#' + container);\r\n        }\r\n      });\r\n\r\n      /**\r\n       * The viewport element (jQuery object)\r\n       *\r\n       * @property $element\r\n       * @type {jQuery}\r\n       */\r\n      if (this.$element.length === 0) {\r\n        var createdElement = $(root.document.createElement('div')).attr('id', container).attr('class', 'viewport');\r\n\r\n        if (options.parent) {\r\n          $(options.parent).prepend(createdElement);\r\n        } else {\r\n          $('body').prepend(createdElement);\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(this, 'width', {\r\n        get: function() {\r\n          return this.$element.outerWidth();\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(this, 'height', {\r\n        get: function() {\r\n          return this.$element.outerHeight();\r\n        }\r\n      });\r\n\r\n      var self = this;\r\n\r\n      this.on('scale', function() {\r\n        \r\n        // TODO: Reset scaling to 1.0\r\n        \r\n        var scaleElement = function(scaleFactor) {\r\n          var scaleExp = 'scale(' + scaleFactor + ', ' + scaleFactor + ')';\r\n          self.$element.css('transform', scaleExp);\r\n        };\r\n\r\n        var scaleHeightToFit = function(doNotSetTransform) {\r\n          var scaleFactor = 0;\r\n          \r\n          if (self.height > $(options.trigger.element).innerHeight()) {\r\n            scaleFactor = $(options.trigger.element).innerHeight() / self.height;\r\n\r\n            if (doNotSetTransform) {\r\n              return scaleFactor;\r\n            } else {\r\n              scaleElement(scaleFactor);\r\n              return scaleFactor;\r\n            }\r\n          }\r\n          \r\n          return 1.0;\r\n        };\r\n\r\n        var scaleWidthToFit = function(doNotSetTransform) {\r\n          var scaleFactor = 0;\r\n          \r\n          if (self.width > $(options.trigger.element).innerWidth()) {\r\n            scaleFactor = $(options.trigger.element).innerWidth() / self.width;\r\n            \r\n            if (doNotSetTransform) {\r\n              return scaleFactor;\r\n            } else {\r\n              scaleElement(scaleFactor);\r\n              return scaleFactor;\r\n            }\r\n          }\r\n          \r\n          return 1.0;\r\n        };\r\n\r\n        switch (self.scaleMode) {\r\n          case 'scaleToFit':\r\n            var scaleX = 1;\r\n            var scaleY = 1;\r\n          \r\n            if ($(options.trigger.element).innerHeight() < self.height) {\r\n              scaleY = scaleHeightToFit(true);\r\n            }\r\n            \r\n            if ($(options.trigger.element).innerWidth() < self.width) { \r\n              scaleX = scaleWidthToFit(true);                \r\n            }\r\n            \r\n            scaleElement(Math.min(scaleX, scaleY));\r\n            break;\r\n          case 'scaleHeightToFit':\r\n            scaleHeightToFit();\r\n            break;\r\n          case 'scaleWidthToFit':\r\n            scaleWidthToFit();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n\r\n      $(options.trigger.element).on(options.trigger.event, self.trigger.bind(self, 'scale'));\r\n      \r\n      // Call scale event\r\n      self.trigger('scale');\r\n    }\r\n\r\n    return Viewport;\r\n\r\n  })();\r\n});\r\n",
    "define('lyria/world', ['mixer', 'eventmap'], function(mixer, EventMap) {\r\n\r\n  return (function() {\r\n\r\n    var World = function() {\r\n      mixer([this, World.prototype], new EventMap());\r\n    };\r\n\r\n    return World;\r\n\r\n  })();\r\n\r\n});\r\n",
    "define('lyria/template/list', {\n  'achievement-list': function(Handlebars, depth0, helpers, partials, data) {\n    this.compilerInfo = [4, '>= 1.0.0'];\n    helpers = this.merge(helpers, Handlebars.helpers);\n    partials = this.merge(partials, Handlebars.partials);\n    data = data || {};\n    var buffer = \"\",\n      stack1, self = this;\n\n    function program1(depth0, data) {\n\n      var buffer = \"\",\n        stack1;\n      buffer += \"\\r\\n    \";\n      stack1 = self.invokePartial(partials.achievement, 'achievement', depth0, helpers, partials, data);\n      if (stack1 || stack1 === 0) {\n        buffer += stack1;\n      }\n      buffer += \"\\r\\n  \";\n      return buffer;\n    }\n\n    buffer += \"<div class=\\\"achievement-list\\\">\\r\\n  \";\n    stack1 = helpers.each.call(depth0, depth0.achievement, {\n      hash: {},\n      inverse: self.noop,\n      fn: self.program(1, program1, data),\n      data: data\n    });\n    if (stack1 || stack1 === 0) {\n      buffer += stack1;\n    }\n    buffer += \"\\r\\n</div>\";\n    return buffer;\n  },\n  'achievement': function(Handlebars, depth0, helpers, partials, data) {\n    this.compilerInfo = [4, '>= 1.0.0'];\n    helpers = this.merge(helpers, Handlebars.helpers);\n    data = data || {};\n    var buffer = \"\",\n      stack1, functionType = \"function\",\n      escapeExpression = this.escapeExpression,\n      self = this;\n\n    function program1(depth0, data) {\n\n\n      return \"offscreen\";\n    }\n\n    function program3(depth0, data) {\n\n      var buffer = \"\",\n        stack1;\n      buffer += \"\\r\\n  <div class=\\\"progress-status\\\">\\r\\n    <span class=\\\"current\\\">\";\n      if (stack1 = helpers.current) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.current;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"</span>\\r\\n    <span class=\\\"separator\\\">\";\n      if (stack1 = helpers.separator) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.separator;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"</span>\\r\\n    <span class=\\\"max\\\">\";\n      if (stack1 = helpers.max) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.max;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"</span>\\r\\n  </div>\\r\\n  \";\n      return buffer;\n    }\n\n    buffer += \"<div id=\\\"\";\n    if (stack1 = helpers.id) {\n      stack1 = stack1.call(depth0, {\n        hash: {},\n        data: data\n      });\n    } else {\n      stack1 = depth0.id;\n      stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n    }\n    buffer += escapeExpression(stack1) + \"\\\" class=\\\"achievement \";\n    stack1 = helpers['if'].call(depth0, depth0.offscreen, {\n      hash: {},\n      inverse: self.noop,\n      fn: self.program(1, program1, data),\n      data: data\n    });\n    if (stack1 || stack1 === 0) {\n      buffer += stack1;\n    }\n    buffer += \"\\\">\\r\\n  <div class=\\\"title\\\">\";\n    if (stack1 = helpers.title) {\n      stack1 = stack1.call(depth0, {\n        hash: {},\n        data: data\n      });\n    } else {\n      stack1 = depth0.title;\n      stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n    }\n    buffer += escapeExpression(stack1) + \"</div>\\r\\n  <div class=\\\"icon \";\n    if (stack1 = helpers.className) {\n      stack1 = stack1.call(depth0, {\n        hash: {},\n        data: data\n      });\n    } else {\n      stack1 = depth0.className;\n      stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n    }\n    buffer += escapeExpression(stack1) + \"\\\"></div>\\r\\n  <div class=\\\"description\\\">\";\n    if (stack1 = helpers.description) {\n      stack1 = stack1.call(depth0, {\n        hash: {},\n        data: data\n      });\n    } else {\n      stack1 = depth0.description;\n      stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n    }\n    buffer += escapeExpression(stack1) + \"</div>\\r\\n  \";\n    stack1 = helpers['if'].call(depth0, depth0.progressable, {\n      hash: {},\n      inverse: self.noop,\n      fn: self.program(3, program3, data),\n      data: data\n    });\n    if (stack1 || stack1 === 0) {\n      buffer += stack1;\n    }\n    buffer += \"\\r\\n</div>\";\n    return buffer;\n  },\n  'scene': function(Handlebars, depth0, helpers, partials, data) {\n    this.compilerInfo = [4, '>= 1.0.0'];\n    helpers = this.merge(helpers, Handlebars.helpers);\n    data = data || {};\n    var stack1, functionType = \"function\",\n      escapeExpression = this.escapeExpression,\n      self = this;\n\n    function program1(depth0, data) {\n\n      var buffer = \"\",\n        stack1;\n      buffer += \"\\r\\n  <canvas id=\\\"\";\n      if (stack1 = helpers.name) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.name;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"\\\" class=\\\"\";\n      if (stack1 = helpers.type) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.type;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"\\\"></canvas>\\r\\n\";\n      return buffer;\n    }\n\n    function program3(depth0, data) {\n\n      var buffer = \"\",\n        stack1;\n      buffer += \"\\r\\n  <div id=\\\"\";\n      if (stack1 = helpers.name) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.name;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"\\\" class=\\\"\";\n      if (stack1 = helpers.type) {\n        stack1 = stack1.call(depth0, {\n          hash: {},\n          data: data\n        });\n      } else {\n        stack1 = depth0.type;\n        stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1;\n      }\n      buffer += escapeExpression(stack1) + \"\\\"></div>\\r\\n\";\n      return buffer;\n    }\n\n    stack1 = helpers['if'].call(depth0, depth0.canvas, {\n      hash: {},\n      inverse: self.program(3, program3, data),\n      fn: self.program(1, program1, data),\n      data: data\n    });\n    if (stack1 || stack1 === 0) {\n      return stack1;\n    } else {\n      return '';\n    }\n  }\n});"
  ]
}