/*!
  * Routie - A tiny javascript hash router 
  * v0.0.1
  * https://github.com/jgallen23/routie
  * copyright JGA 2012
  * MIT License
  */
(function(e){var t=[],n=function(e,t){this.path=e,this.fn=t,this.keys=[],this.regex=r(this.path,this.keys,!1,!1);var n=s();o(n,this)};n.prototype.match=function(e,t){var n=this.regex.exec(e);if(!n)return!1;for(var r=1,i=n.length;r<i;++r){var s=this.keys[r-1],o="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];t.push(o)}return!0};var r=function(e,t,n,r){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,i,s,o){return t.push({name:i,optional:!!o}),n=n||"",""+(o?"":n)+"(?:"+(o?n:"")+(r||"")+(s||r&&"([^/.]+?)"||"([^/]+?)")+")"+(o||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))},i=function(e,r){if(typeof r=="function")t.push(new n(e,r));else if(typeof e=="object")for(var i in e)t.push(new n(i,e[i]));else typeof r=="undefined"&&(window.location.hash=e)},s=function(){return window.location.hash.substring(1)},o=function(e,t){var n=[];return t.match(e,n)?(t.fn.apply(t,n),!0):!1},u=function(){var e=s();for(var n=0,r=t.length;n<r;n++){var i=t[n];if(o(e,i))return}};e.addEventListener?e.addEventListener("hashchange",u):e.attachEvent("onhashchange",u),e.routie=i})(window)